import pygame
import os
os.environ["SDL_AUDIODRIVER"] = "dummy"
#Инициализация Pygame
pygame.init()

#Константы
width, height = 800, 600
white = (255, 255, 255)

#Создание окна
Screen = pygame.display.set_mode((width, height))
pygame.display.set_caption("Ёжик собирает еду")

#Игровой цикл
running = True
while running:
    for event in pygame.event.get():
        if event.type== pygame.QUIT:
            running = False

#Заливка фона
Screen.fill(white)

#Обновление экрана
pygame.display.flip()

#Создание персонажа
player = pygame.Rect(100, 500, 50,50) #Позиция и размер ежика

#Добавляем отрисовку персонажа
pygame.draw.rect(Screen, (0, 0, 255), player) #Цвет у ежика сделаем синий (Как в рассказе -"Синие листья") :)

#Создание земли с травкой (платформы)
platform = pygame.Rect(0, height -50, width, 50) #Платформа снизу экрана
pygame.draw.rect(Screen, (0, 128, 0), platform) #Зеленая земля

SPEED = 5
#Управление ежиком
keys = pygame.key.get_pressed()
if keys[pygame.K_LEFT]:
player.x -= SPEED
if keys[pygame.K_RIGHT]:
player.x += SPEED

GRAVITY = 0.5
JUMP_POWER = -10
velocity_y = 0
on_ground = False

#Гравитация и прыжок
velocity_y += GRAVITY
player.y += velocity_y

if player.colliderect(platform): #Проверка стоит ли ежик на платформе
player.y = platform.y - player.height
velocity_y = 0
on_ground = True

#Прыжок на пробел
if keys[pygame.K_SPACE] and on_ground:
velocity_y = JUMP_POWER
on_ground = False


#Завершение
pygame.time.delay(5000)
pygame.quit()

